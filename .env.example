# WeChat Activation Manager - 环境配置模板
# 项目地址: https://github.com/xbrooke/WeChatActivationManager.git
# 开发者: 徐大兵
# 版本: 1.0.0
# 许可证: MIT
# 
# 说明: 复制本文件为 .env，然后根据你的实际环境修改对应的值
# 重要: 此文件包含敏感信息，请勿提交到版本控制系统

# ==========================================
# 【Flask 核心配置】
# ==========================================

# 运行环境 (development=开发/测试, production=生产)
FLASK_ENV=production

# 应用密钥 (用于加密会话和 CSRF 保护，生产环境务必修改为强随机值)
# 生成强密钥: python -c "import secrets; print(secrets.token_hex(32))"
FLASK_SECRET_KEY=your-secret-key-change-this

# 调试模式 (开发时=1，生产=0)
FLASK_DEBUG=0

# ==========================================
# 【数据库配置】
# ==========================================

# 是否使用数据库 (false=JSON文件, true=SQLAlchemy数据库)
USE_DATABASE=false

# 数据库连接字符串 - 选择一种配置方式:

# SQLite (轻量级，适合开发和小规模应用)
# DATABASE_URL=sqlite:///app.db

# MySQL 配置 (推荐用于生产环境)
# 格式: mysql+pymysql://username:password@host:port/database
# 示例: mysql+pymysql://wechat:your_password@localhost:3306/wechat
DATABASE_URL=mysql+pymysql://user:password@localhost:3306/database

# PostgreSQL 配置 (另一个生产选项)
# DATABASE_URL=postgresql://username:password@localhost:5432/database

# ==========================================
# 【日志配置】
# ==========================================

# 日志级别 (DEBUG=最详细, INFO=正常, WARNING=警告, ERROR=错误)
LOG_LEVEL=INFO

# 日志文件位置
LOG_FILE=logs/app.log

# 是否同时输出到控制台 (true/false)
LOG_TO_CONSOLE=true

# ==========================================
# 【服务器配置】
# ==========================================

# 服务器绑定地址 (0.0.0.0=所有网络接口, 127.0.0.1=仅本地)
SERVER_HOST=0.0.0.0

# 服务器端口
SERVER_PORT=5000

# Gunicorn 工作进程数 (推荐=CPU核数*2+1)
SERVER_WORKERS=4

# 请求超时时间 (秒)
SERVER_TIMEOUT=120

# ==========================================
# 【认证配置】
# ==========================================

# 默认管理员账号
ADMIN_USERNAME=admin

# 默认管理员密码 (生产环境务必修改！)
# 建议密码强度: 至少8位，包含大小写字母、数字和特殊字符
ADMIN_PASSWORD=admin123

# 会话过期时间 (分钟)
SESSION_TIMEOUT=1440

# ==========================================
# 【应用功能配置】
# ==========================================

# 激活码有效期 - 普通码 (天)
ACTIVATION_CODE_EXPIRE_DAYS=1

# 激活码有效期 - VIP码 (天)
VIP_CODE_EXPIRE_DAYS=30

# 批量生成激活码时的默认数量
BATCH_GENERATE_DEFAULT_COUNT=10

# 最多同时生成的激活码数量（防止滥用）
BATCH_GENERATE_MAX_COUNT=1000

# ==========================================
# 【数据存储配置】
# ==========================================

# JSON 数据文件位置 (当 USE_DATABASE=false 时使用)
DATA_DIR=data

# 激活码数据文件
CODES_FILE=data/codes.json

# 用户数据文件
USERS_FILE=data/users.json

# ==========================================
# 【CORS 跨域配置】
# ==========================================

# 允许的跨域源 (多个用逗号分隔，生产环境建议指定具体域名)
CORS_ORIGINS=*

# ==========================================
# 【微信公众号配置】
# ==========================================

# 微信公众号 Token 
# 获取方法: 微信公众平台 → 设置与开发 → 基本设置
# 自定义 Token，需与微信后台配置一致
WECHAT_TOKEN=your-token-here

# 微信公众号 AppID
# 获取方法: 微信公众平台 → 设置与开发 → 基本设置
WECHAT_APPID=your-appid-here

# 微信公众号 AppSecret
# 获取方法: 微信公众平台 → 设置与开发 → 基本设置
WECHAT_APPSECRET=your-appsecret-here

# 微信公众号消息加密密钥（用于安全模式）
# 获取方法: 微信公众平台 → 设置与开发 → 基本设置 → 消息加密密钥
# 如未启用安全模式可留空
WECHAT_ENCODING_AES_KEY=your-encoding-aes-key-here

# 服务器对外 IP 地址或域名（微信配置时使用）
# 留空则自动获取本机IP，建议设置为实际的外网 IP 或域名
SERVER_IP=

# ==========================================
# 【其他配置】
# ==========================================

# 应用名称
APP_NAME=WeChat Activation Manager

# 应用版本
APP_VERSION=1.0.0

# 时区
TIMEZONE=Asia/Shanghai
